<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Santiano | Projects</title>
  <link rel="stylesheet" href="style.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@1,900&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Navbar -->
  <header>
    <a href="index.html" id="title-link">
      <h1 id="title">Santiano</h1>
    </a>
    
    <nav>
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="projects.html" class="active">Projects</a>
      <a href="education.html">Education</a>
    </nav>

  </header>

  <!-- 🌐 Websites Section -->
<section id="websites">
  <h2 class="highlight">Websites</h2>

  <div id="sites-carousel" class="carousel">
  <div class="carousel-track">

      <div class="card">
        <a href="https://melvinsantiano.github.io/porforlio/about.html" target="_blank">
          <img src="images/Projects/webone.jpg" alt="Website 1">
          <span class="sites-title">Website 1</span>
        </a>
      </div>

      <div class="card">
        <a href="#">
          <img src="images/placeholder.jpg" alt="No Website">
          <span class="sites-title">NO WEBSITE</span>
        </a>
      </div>
      <div class="card">
        <a href="https://example.com/site2" target="_blank">
          <img src="images/site2.jpg" alt="No Website">
          <span class="sites-title">NO WEBSITE</span>
        </a>
      </div>

      <div class="card">
        <a href="https://example.com/site1" target="_blank">
          <img src="images/site1.jpg" alt="No Website">
          <span class="sites-title">NO WEBSITE</span>
        </a>
      </div>
      <!-- Add more site-cards here -->
    </div>
  </div>

    <script>
const SPEED2 = 0.3;
const GAP2 = 20;

const container2 = document.getElementById('sites-carousel');
const track2 = container2.querySelector('.carousel-track');

const originals2 = Array.from(track2.children);
const frag2 = document.createDocumentFragment();
originals2.forEach(node => frag2.appendChild(node.cloneNode(true)));
track2.appendChild(frag2);

function measureSetWidth2() {
  const widths = originals2.map(el => el.getBoundingClientRect().width);
  const totalCardWidth = widths.reduce((a, b) => a + b, 0);
  const totalGaps = GAP2 * Math.max(0, originals2.length - 1);
  return totalCardWidth + totalGaps;
}

let setWidth2 = 0;
let pos2 = 0;
let rafId2 = null;
let dragging2 = false;
let dragStartX2 = 0;
let dragStartPos2 = 0;
let paused2 = false;
let dragMoved2 = false;

function wrapPosition2() {
  if (setWidth2 <= 0) return;
  while (pos2 <= -setWidth2) pos2 += setWidth2;
  while (pos2 > 0) pos2 -= setWidth2;
}

function render2() {
  track2.style.transform = `translate3d(${pos2}px, 0, 0)`;
}

function frame2() {
  if (!paused2 && !dragging2) {
    pos2 += SPEED2; // slide to the RIGHT
    wrapPosition2();
    render2();
  }
  rafId2 = requestAnimationFrame(frame2);
}

function start2() {
  if (!rafId2) rafId2 = requestAnimationFrame(frame2);
}

// Pause on hover
container2.addEventListener('mouseenter', () => { paused2 = true; });
container2.addEventListener('mouseleave', () => { paused2 = false; });

// Start drag
container2.addEventListener('pointerdown', (e) => {
  const anchor = e.target.closest('a');
  if (anchor) {
    // If it's a real link, do NOT hijack it
    downAnchor2 = null;
    return;
  }

  dragging2 = true;
  paused2 = true;
  dragStartX2 = e.clientX;
  dragStartPos2 = pos2;
  dragMoved2 = false;
  downAnchor2 = null;
  container2.setPointerCapture(e.pointerId);
});

// End drag
function endDrag2(e) {
  if (!dragging2) return;
  dragging2 = false;
  paused2 = false;
  container2.releasePointerCapture?.(e.pointerId);

  if (dragMoved2) {
    // If it was a drag → block accidental clicks
    const cancelOnce = (ev) => {
      ev.preventDefault();
      ev.stopPropagation();
      container2.removeEventListener('click', cancelOnce, true);
    };
    container2.addEventListener('click', cancelOnce, true);
  }
}

container2.addEventListener('pointerup', endDrag2);
container2.addEventListener('pointercancel', endDrag2);
container2.addEventListener('mouseleave', (e) => { if (dragging2) endDrag2(e); });

// Init / resize
function init2() {
  setWidth2 = measureSetWidth2();
  wrapPosition2();
  render2();
  start2();
}
window.addEventListener('load', init2);
window.addEventListener('resize', () => {
  setWidth2 = measureSetWidth2();
  wrapPosition2();
  render2();
});
</script>

</section>


<!-- 🎮 Games Section -->
<section id="games">
  <h2 class="highlight">Games</h2>

  <!-- HTML -->
<div class="carousel" id="games-carousel">
  <div class="carousel-track">

      <div class="card">
        <a href="https://example.com/game1" target="_blank">
          <img src="images/game1.jpg" alt="Game 1">
          <span class="sites-title">NO GAME</span>
        </a>
      </div>

      <div class="card">
        <a href="#">
          <img src="images/game2.jpg" alt="Game 2">
          <span class="sites-title">NO GAME</span>
        </a>
      </div>

      <div class="card">
        <a href="https://example.com/game3" target="_blank">
          <img src="images/game3.jpg" alt="Game 3">
          <span class="sites-title">NO GAME</span>
        </a>
      </div>

      <!-- Replace your current game cards with this structure -->
      <div class="card">
        <a href="https://example.com/game1" target="_blank">
          <img src="images/game1.jpg" alt="Game 4">
          <span class="sites-title">NO GAME</span>
        </a>
      </div>

      <div class="card">
        <a href="#">
          <img src="images/game2.jpg" alt="Game 5">
          <span class="sites0title">NO GAME</span>
        </a>
      </div>

  </div>
</div>


<script>
  // ===== Config =====
  const SPEED = 0.6; // pixels per frame (autoscroll speed)
  const GAP = 20;    // must match CSS .carousel-track gap

  // ===== Setup =====
  const container = document.getElementById('games-carousel');
  const track = container.querySelector('.carousel-track');

  // Clone one full set of cards to enable seamless looping
  const originals = Array.from(track.children);
  const frag = document.createDocumentFragment();
  originals.forEach(node => frag.appendChild(node.cloneNode(true)));
  track.appendChild(frag);

  // Measure width of one set (originals only)
  function measureSetWidth() {
    // Sum widths of originals + total gaps between them
    const widths = originals.map(el => el.getBoundingClientRect().width);
    const totalCardWidth = widths.reduce((a, b) => a + b, 0);
    const totalGaps = GAP * Math.max(0, originals.length - 1);
    return totalCardWidth + totalGaps;
  }

  let setWidth = 0;
  let pos = 0;            // current translateX
  let rafId = null;
  let dragging = false;
  let dragStartX = 0;
  let dragStartPos = 0;
  let paused = false;

  // Normalize position into (-setWidth, 0]
  function wrapPosition() {
    if (setWidth <= 0) return;
    while (pos <= -setWidth) pos += setWidth;
    while (pos > 0) pos -= setWidth;
  }

  function render() {
    track.style.transform = `translate3d(${pos}px, 0, 0)`;
  }

  function frame() {
    if (!paused && !dragging) {
      pos -= SPEED;
      wrapPosition();
      render();
    }
    rafId = requestAnimationFrame(frame);
  }

  function start() {
    if (!rafId) rafId = requestAnimationFrame(frame);
  }
  function stop() {
    if (rafId) cancelAnimationFrame(rafId);
    rafId = null;
  }

  // Hover pause/resume
  container.addEventListener('mouseenter', () => { paused = true; });
  container.addEventListener('mouseleave', () => { paused = false; });

  // Pointer (mouse/touch) drag
  // Start drag
container.addEventListener('pointerdown', (e) => {
  const anchor = e.target.closest('a');
  if (anchor) {
    // If it's a real link, let the browser handle it
    downAnchor = null;
    return;
  }

  dragging = true;
  paused = true;
  dragStartX = e.clientX;
  dragStartPos = pos;
  dragMoved = false;
  downAnchor = null;
  container.setPointerCapture(e.pointerId);
});

// End drag
function endDrag(e) {
  if (!dragging) return;
  dragging = false;
  paused = false;
  container.releasePointerCapture?.(e.pointerId);

  if (dragMoved) {
    const cancelOnce = (ev) => {
      ev.preventDefault();
      ev.stopPropagation();
      container.removeEventListener('click', cancelOnce, true);
    };
    container.addEventListener('click', cancelOnce, true);
  }
}


  container.addEventListener('pointerup', endDrag);
  container.addEventListener('pointercancel', endDrag);
  // Safety: if pointer leaves the element mid-drag
  container.addEventListener('mouseleave', () => { if (dragging) endDrag(); });

  // Recompute on load & on resize (fonts/layout changes)
  function init() {
    setWidth = measureSetWidth();
    wrapPosition();
    render();
    start();
  }
  window.addEventListener('load', init);
  window.addEventListener('resize', () => {
    setWidth = measureSetWidth();
    wrapPosition();
    render();
  });
</script>
</section>

  
</body>

<script src="script.js" defer></script>
</html>
